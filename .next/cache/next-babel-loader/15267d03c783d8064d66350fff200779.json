{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport DraftsIcon from '@material-ui/icons/Drafts';\nimport SendIcon from '@material-ui/icons/Send';\nimport IconButton from '@material-ui/core/IconButton';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport { useStore } from \"mobx-store-provider\";\nimport { observer } from 'mobx-react';\nconst StyledMenu = withStyles({\n  paper: {\n    border: '1px solid #d3d4d5'\n  }\n})(props => /*#__PURE__*/_jsx(Menu, _objectSpread({\n  elevation: 0,\n  getContentAnchorEl: null,\n  anchorOrigin: {\n    vertical: 'bottom',\n    horizontal: 'center'\n  },\n  transformOrigin: {\n    vertical: 'top',\n    horizontal: 'center'\n  }\n}, props)));\nconst StyledMenuItem = withStyles(theme => ({\n  root: {\n    '&:focus': {\n      // backgroundColor: theme.palette.primary.main,\n      '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\n        color: theme.palette.common.white\n      }\n    }\n  }\n}))(MenuItem);\nexport default observer(function MenuCard({\n  post\n}) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const {\n    postsStore\n  } = useStore();\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const pinPost = async () => {\n    postsStore.togglePinned(post);\n    fetch('/api/news/pin', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8'\n      },\n      body: JSON.stringify({\n        id: post._id\n      })\n    });\n    setAnchorEl(null);\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsx(IconButton, {\n      \"aria-label\": \"more\",\n      \"aria-controls\": \"long-menu\",\n      \"aria-haspopup\": \"true\",\n      onClick: handleClick,\n      children: /*#__PURE__*/_jsx(MoreVertIcon, {})\n    }), /*#__PURE__*/_jsxs(StyledMenu, {\n      id: \"customized-menu\",\n      anchorEl: anchorEl,\n      keepMounted: true,\n      open: Boolean(anchorEl),\n      onClose: handleClose,\n      children: [/*#__PURE__*/_jsxs(StyledMenuItem, {\n        onClick: pinPost,\n        children: [/*#__PURE__*/_jsx(ListItemIcon, {\n          children: /*#__PURE__*/_jsx(AttachFileIcon, {\n            fontSize: \"small\"\n          })\n        }), /*#__PURE__*/_jsx(ListItemText, {\n          primary: post.pinned ? \"Открепить\" : \"Закрепить\"\n        })]\n      }), /*#__PURE__*/_jsxs(StyledMenuItem, {\n        children: [/*#__PURE__*/_jsx(ListItemIcon, {\n          children: /*#__PURE__*/_jsx(DraftsIcon, {\n            fontSize: \"small\"\n          })\n        }), /*#__PURE__*/_jsx(ListItemText, {\n          primary: \"Drafts\"\n        })]\n      }), /*#__PURE__*/_jsxs(StyledMenuItem, {\n        children: [/*#__PURE__*/_jsx(ListItemIcon, {\n          children: /*#__PURE__*/_jsx(InboxIcon, {\n            fontSize: \"small\"\n          })\n        }), /*#__PURE__*/_jsx(ListItemText, {\n          primary: \"Inbox\"\n        })]\n      })]\n    })]\n  });\n});","map":null,"metadata":{},"sourceType":"module"}